<!DOCTYPE html>
<html style="height: 100%">
<style>
    @font-face {
    font-family: Poppins-Regular;
    src: url(https://colorlib.com/etc/tb/Table_Responsive_v2/fonts/poppins/Poppins-Regular.ttf)
}

@font-face {
    font-family: Poppins-Bold;
    src: url(https://colorlib.com/etc/tb/Table_Responsive_v2/fonts/poppins/Poppins-Bold.ttf)
}



a {
    margin: 0;
    transition: all .4s;
    -webkit-transition: all .4s;
    -o-transition: all .4s;
    -moz-transition: all .4s
}

a:focus {
    outline: none!important
}

a:hover {
    text-decoration: none
}

h1,
h2,
h3,
h4,
h5,
h6 {
    margin: 0
}

p {
    margin: 0
}

ul,
li {
    margin: 0;
    list-style-type: none
}

input {
    display: block;
    outline: none;
    border: none!important
}

textarea {
    display: block;
    outline: none
}

textarea:focus,
input:focus {
    border-color: transparent!important
}

button {
    outline: none!important;
    border: none;
    background: 0 0
}

button:hover {
    cursor: pointer
}

iframe {
    border: none!important
}

.limiter {
    width: 100%;
    margin: 0 auto
}

.container-table100 {
    width: 100%;
    background: #E9F2FF;
    display: -webkit-box;
    display: -webkit-flex;
    display: -moz-box;
    display: -ms-flexbox;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    padding: 33px 30px
}

.wrap-table100 {
    width: 460px;
    border-radius: 10px;
    overflow: hidden
}

.table {
    width: 100%;
    display: table;
    margin: 0
}

@media screen and (max-width:0px) {
    .table {
        display: block
    }
}

.row {
    display: table-row;
    background: #fff
}

.row.header {
    color: #fff;
    background: #266FF2
}

@media screen and (max-width:0px) {
    .row {
        display: block
    }
    .row.header {
        padding: 0;
        height: 0
    }
    .row.header .cell {
        display: none
    }
    .row .cell:before {
        font-family: Poppins-Bold;
        font-size: 12px;
        color: gray;
        line-height: 1.2;
        text-transform: uppercase;
        font-weight: unset!important;
        margin-bottom: 13px;
        content: attr(data-title);
        min-width: 98px;
        display: block
    }
}

.cell {
    display: table-cell
}

@media screen and (max-width:0px) {
    .cell {
        display: block
    }
}

.row .cell {
    font-family: Poppins-Regular;
    font-size: 15px;
    color: #666;
    line-height: 1.2;
    font-weight: unset!important;
    padding-top: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid #f2f2f2
}

.row.header .cell {
    font-family: Poppins-Regular;
    font-size: 18px;
    color: #fff;
    line-height: 1.2;
    font-weight: unset!important;
    padding-top: 19px;
    padding-bottom: 19px
}

.row .cell:nth-child(1) {
    width: 360px;
    padding-left: 40px
}

.row .cell:nth-child(2) {
    width: 160px
}

.row .cell:nth-child(3) {
    width: 250px
}

.row .cell:nth-child(4) {
    width: 190px
}

.table,
.row {
    width: 100%!important
}

.row:hover {
    background-color: #ececff;
    cursor: pointer
}

@media(max-width:0px) {
    .row {
        border-bottom: 1px solid #f2f2f2;
        padding-bottom: 18px;
        padding-top: 30px;
        padding-right: 15px;
        margin: 0
    }
    .row .cell {
        border: none;
        padding-left: 30px;
        padding-top: 16px;
        padding-bottom: 16px
    }
    .row .cell:nth-child(1) {
        padding-left: 30px
    }
    .row .cell {
        font-family: Poppins-Regular;
        font-size: 18px;
        color: #555;
        line-height: 1.2;
        font-weight: unset!important
    }
    .table,
    .row,
    .cell {
        width: 100%!important
    }
}
</style>
<script>
    window.console = window.console || function(t) {};
  </script>
  
    
    
    <script>
    if (document.location.search.match(/type=embed/gi)) {
      window.parent.postMessage("resize", "*");
    }
  </script>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
        <script src="/lib/scripts/utils.js"></script>
        <script src="/lib/scripts/env.js"></script>
        <script src='https://code.jquery.com/jquery-3.2.1.slim.min.js'></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js'></script>
        <script src='https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js'></script>
        <script src="/lib/scripts/jquery.min.js"></script>
        <link href="/lib/styles/css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" type="text/css" href="/lib/styles/style.css">
        <script src="https://unpkg.com/mustache@latest"></script>
    </head>


    <body >
        <div id="container" >
            <div class="container-table100">
                <div class="wrap-table100">
                <div class="table" id="main_table">
                <div class="row header">
                <div class="cell" id="tit1">
                </div>
                <div class="cell" id="tit2">
                </div>
                <div class="cell" id="tit3">
                </div>
                </div>
                <!-- New rows are going to be added here -->
                <!-- <div class="row">
                    <div class="cell" >asaass
                    </div>
                    <div class="cell" >asaas
                    </div>
                    <div class="cell" >asaas
                    </div>
                </div> -->


                </div>
                </div>
                </div>

        </div>
    </body>

    
        <script type="text/javascript">


//environment_widget = "https://api-dev.askdata.com";
//environment_widget = "https://api.askdata.com"  // prod  da togliere quando porto su...


$.ajax({

url: environment_widget +"/smartinsight/widgets/" + getUrlParameter('widgetId'),
type: "GET",
async: false,
beforeSend: function(xhr){xhr.setRequestHeader('Authorization', 'Bearer ' + getToken() 
 ).setRequestHeader('Content-Type','application/json')},
success: function(data) { 
 console.log(data)     


 document.getElementById("tit1").innerHTML =  data.fields.m1_id.name;
 document.getElementById("tit2").innerHTML =  data.fields.m2_id.name;
 document.getElementById("tit3").innerHTML = data.fields.m3_id.name;
 data1 = data.fields.m1_id.data;
 data2 = data.fields.m2_id.data;
 data3 = data.fields.m3_id.data;


 for (let i = 0; i < data1.length; i++) {
        var div = document.createElement("div");
        document.getElementById("main_table").appendChild(div);
        div.setAttribute('class', 'row'); 
        div.setAttribute('id', 'row' + (i));
        console.log("row" + i) 
        
        for (let s = 0; s < 3; s++) {
            var div = document.createElement("div");
            div.setAttribute('class', 'cell');
            div.setAttribute('id', 'a' + i + s);
            document.getElementById('row'+ i).appendChild(div);
            if (s==0) {
                document.getElementById("a"+ i + s).innerHTML = data1[i];
            } 
            if (s==1) {
                document.getElementById("a"+ i + s).innerHTML = data2[i];
            } 
            if (s==2) {
                document.getElementById("a"+ i + s).innerHTML = data3[i];
            } 
        }
    }




    }
  });
        </script>

</html>