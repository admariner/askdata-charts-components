<!--
    THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/en/editor.html?c=sankey-levels
-->
<!DOCTYPE html>
<html >
<style>
    body {
   /* Background pattern from Toptal Subtle Patterns */
   background-image: url("https://s3.eu-central-1.amazonaws.com/innaas.smartfeed/icons/osservatorio_tim/campo.png");
   background-repeat: no-repeat;
   /* background-position: center;  */
   background-size: 580px 290px;
   position: relative;

}

</style>    
<head>
    
        <meta charset="utf-8">
    </head>
    <body style="width: 580px;height: 290px;">
        <div id="container" style="width: 88%; height: 87%; margin-left: 4.8%; margin-top: 3.2% ; " ></div>
        <!-- <div id="container" style="height: 100%" ></div> -->

        </div>


        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

        <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@{{version}}/dist/echarts.min.js"></script> -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.1.0/echarts-en.common.min.js"></script> -->

        <!-- Uncomment this line if you want to dataTool extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@{{version}}/dist/extension/dataTool.min.js"></script>
        -->
        <!-- Uncomment this line if you want to use gl extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
        -->
        <!-- Uncomment this line if you want to echarts-stat extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
        -->
        <!-- Uncomment this line if you want to use map
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@{{version}}/map/js/china.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@{{version}}/map/js/world.js"></script>
        -->
        <!-- Uncomment these two lines if you want to use bmap extension
        <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=<Your Key Here>"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@{{version}}/dist/extension/bmap.min.js"></script>
        -->

        <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};

var option;






// var sources= ["ME", "ME"]
// var targets = ["YOU", "ES"]
// var scores = [1,2]

// var nomi = [...sources, ...targets];
// nomi = [...new Set(nomi)];

// var dict_nomi = []
// for (let i = 0; i < nomi.length; i++) {
//     var newrow = {name: nomi[i]};   
//     dict_nomi.push(newrow);
// }

// var dict_passaggi = []
// for (let i = 0; i < sources.length; i++) {
//     var newrow = {source: sources[i], target: targets[i], value: scores[i]};   
//     dict_passaggi.push(newrow);
// }


data= {"nodes": [
      {"name": "Donnarumma"},
      {"name": "Romagnoli"},
      {"name": "Kjaer"},
      {"name": "Florenzi"},
	  {"name": "Kolarov"},
	  {"name": "Bennacer"},
	  {"name": "De Rossi"},
	  {"name": "Tonali"},
	  {"name": "Diaz"},
	  {"name": "Ibra"},
	  {"name": "Under"}

    ],
    "links": [
      {"source": "Donnarumma", "target": "Florenzi", "value": 0.34},
      {"source": "Donnarumma", "target": "Kolarov", "value": 0.42},
      {"source": "Donnarumma", "target": "Kjaer", "value": 0.17},
      {"source": "Donnarumma", "target": "Romagnoli", "value": 0.04},
      {"source": "Florenzi", "target": "Bennacer", "value": 0.11},
      {"source": "Kolarov", "target": "Bennacer", "value": 0.137241325342711},
      {"source": "Romagnoli", "target": "Bennacer", "value": 0.137241325342711},
      {"source": "Kjaer", "target": "Bennacer", "value": 0.137241325342711},
      {"source": "Florenzi", "target": "Tonali", "value": 0.137241325342711},
      {"source": "Kolarov", "target": "Tonali", "value": 0.137241325342711},
      {"source": "Romagnoli", "target": "Tonali", "value": 0.137241325342711},
      {"source": "Kjaer", "target": "Tonali", "value": 0.137241325342711},
      {"source": "Florenzi", "target": "De Rossi", "value": 0.137241325342711},
      {"source": "Kolarov", "target": "De Rossi", "value": 0.137241325342711},
      {"source": "Romagnoli", "target": "De Rossi", "value": 0.137241325342711},
      {"source": "Kjaer", "target": "De Rossi", "value": 0.137241325342711},
      {"source": "Bennacer", "target": "Diaz", "value": 0.237241325342711},
      {"source": "De Rossi", "target": "Ibra", "value": 0.237241325342711},
      {"source": "Tonali", "target": "Under", "value": 0.237241325342711}]}

    option = {
        grid: {
          containLabel: true,    
          left: 10,
          top: 10,
          right: 10,
          bottom: 10
          },
        tooltip: {
            trigger: 'item',
            triggerOn: 'mousemove',
            backgroundColor: "#ffffff"
            },
        series: [
            {
                type: 'sankey',
                data: data.nodes,
                width: '90%',
                links: data.links,
                label: {
                    normal: {
                        show: true,
                        position: 'right',
                        fontSize: 12,
                        fontFamily: 'Roboto'
                      }
                  },
                emphasis: {
                    focus: 'adjacency'
                },
                levels: [{
                    depth: 0,
                    
                    itemStyle: {
                        color: '#fbb4ae'
                    },
                    lineStyle: {
                        color: 'source',
                        opacity: 0.8
                    },
                }, {
                    depth: 1,
                    itemStyle: {
                        color: '#1368aa'
                    },
                    lineStyle: {
                        color: 'source',
                        opacity: 0.8
                    }
                }, {
                    depth: 2,
                    itemStyle: {
                        color: '#ccebc5'
                    },
                    lineStyle: {
                        color: 'source',
                        opacity: 0.8
                    }
                }, {
                    depth: 3,
                    itemStyle: {
                        color: '#decbe4'
                    },
                    lineStyle: {
                        color: 'source',
                        opacity: 0.8
                    }
                }],
                
                lineStyle: {
                    curveness: 0.5
                }
            }
        ]
    };
console.log("ok")

if (option && typeof option === 'object') {
    myChart.setOption(option);
}

        </script>
    </body>
</html>
    