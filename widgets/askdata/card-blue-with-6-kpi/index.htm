<!DOCTYPE html>
<html style="height: 100%">
<head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        
        <!-- These imports are required -->
        <script src="/lib/scripts/utils.js"></script>
        <script src="/lib/scripts/env.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>

        <!-- You can leave this library import if you use eCharts library otherwise you can remove it -->
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
        
        <!-- You can leave this library import if you use JQuery. Beware that tThis example uses JQuery -->
        <script src="/lib/scripts/jquery.min.js"></script>

        <!-- You can leave this library import if you use Mustache library otherwise you can remove it -->
        <script src="https://unpkg.com/mustache@latest"></script>

        <!-- Default styling -->
        <link href="/lib/styles/css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" type="text/css" href="/lib/styles/style.css">
        
        <!-- Other JS libraries or CSS import-->
        <!-- Put your libaries here --->
    </head>

    <body style="height: 100%; width: 100%; margin: 0">
        
        <div id="container" style="height: 100%; width: 100%">
            
         <svg width="100%" height="100%" viewBox="0 0 1194 450" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="7.5" y="7.5" width="1180" height="583" rx="22.5" fill="white"/>
    <g filter="url(#filter0_d)">
    <rect x="47" y="138" width="346" height="153" rx="16" fill="#0363F1"/>
    <rect x="47.5" y="138.5" width="345" height="152" rx="15.5" stroke="url(#paint0_linear)"/>
    </g>
    <g filter="url(#filter1_d)">
    <rect x="49" y="307" width="346" height="153" rx="16" fill="#0363F1"/>
    <rect x="49.5" y="307.5" width="345" height="152" rx="15.5" stroke="url(#paint1_linear)"/>
    </g>
    <g filter="url(#filter2_d)">
    <rect x="423" y="138" width="346" height="153" rx="16" fill="#0363F1"/>
    <rect x="423.5" y="138.5" width="345" height="152" rx="15.5" stroke="url(#paint2_linear)"/>
    </g>
    <g filter="url(#filter3_d)">
    <rect x="425" y="307" width="346" height="153" rx="16" fill="#0363F1"/>
    <rect x="425.5" y="307.5" width="345" height="152" rx="15.5" stroke="url(#paint3_linear)"/>
    </g>
    <g filter="url(#filter4_d)">
    <rect x="799" y="138" width="346" height="153" rx="16" fill="#0363F1"/>
    <rect x="799.5" y="138.5" width="345" height="152" rx="15.5" stroke="url(#paint4_linear)"/>
    </g>
    <g filter="url(#filter5_d)">
    <rect x="801" y="307" width="346" height="153" rx="16" fill="#0363F1"/>
    <rect x="801.5" y="307.5" width="345" height="152" rx="15.5" stroke="url(#paint5_linear)"/>
    </g>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="45" font-weight="500" letter-spacing="0em"><tspan x="190" y="381.881">{{fields.m4_id.data.0}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="45" font-weight="500" letter-spacing="0em"><tspan x="110" y="212.881">{{fields.m1_id.data.0}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="45" font-weight="500" letter-spacing="0em"><tspan x="480" y="212.881">{{fields.m2_id.data.0}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="45" font-weight="500" letter-spacing="0em"><tspan x="901.275" y="212.881">{{fields.m3_id.data.0}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="45" font-weight="500" letter-spacing="0em"><tspan x="560" y="378.881">{{fields.m5_id.data.0}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="24" font-weight="500" letter-spacing="0em"><tspan x="160" y="253.203">{{fields.m1_id.name}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="45" font-weight="500" letter-spacing="0em"><tspan x="940" y="381.881">{{fields.m6_id.data.0}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="24" font-weight="500" letter-spacing="0em"><tspan x="510" y="253.203">{{fields.m2_id.name}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="24" font-weight="500" letter-spacing="0em"><tspan x="910" y="253.203">{{fields.m3_id.name}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="24" font-weight="500" letter-spacing="0em"><tspan x="880" y="422.203">{{fields.m6_id.name}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="24" font-weight="500" letter-spacing="0em"><tspan x="525" y="420.203">{{fields.m5_id.name}}</tspan></text>
    <text fill="#FCFCFC" xml:space="preserve" style="white-space: pre" font-family="Roboto" font-size="24" font-weight="500" letter-spacing="0em"><tspan x="160" y="422.203">{{fields.m4_id.name}}</tspan></text>
    <rect x="7.5" y="7.5" width="1180" height="583" rx="22.5" stroke="white" stroke-width="15"/>
    <defs>
    <filter id="filter0_d" x="35" y="130" width="370" height="177" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="6"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.635069 0 0 0 0 0.776394 0 0 0 0 0.983333 0 0 0 0.3 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <filter id="filter1_d" x="37" y="299" width="370" height="177" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="6"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.635069 0 0 0 0 0.776394 0 0 0 0 0.983333 0 0 0 0.3 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <filter id="filter2_d" x="411" y="130" width="370" height="177" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="6"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.635069 0 0 0 0 0.776394 0 0 0 0 0.983333 0 0 0 0.3 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <filter id="filter3_d" x="413" y="299" width="370" height="177" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="6"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.635069 0 0 0 0 0.776394 0 0 0 0 0.983333 0 0 0 0.3 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <filter id="filter4_d" x="787" y="130" width="370" height="177" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="6"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.635069 0 0 0 0 0.776394 0 0 0 0 0.983333 0 0 0 0.3 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <filter id="filter5_d" x="789" y="299" width="370" height="177" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="6"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.635069 0 0 0 0 0.776394 0 0 0 0 0.983333 0 0 0 0.3 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <linearGradient id="paint0_linear" x1="220" y1="138" x2="220" y2="291" gradientUnits="userSpaceOnUse">
    <stop stop-color="#E9F2FF" stop-opacity="0"/>
    <stop offset="1" stop-color="#E9F2FF"/>
    </linearGradient>
    <linearGradient id="paint1_linear" x1="222" y1="307" x2="222" y2="460" gradientUnits="userSpaceOnUse">
    <stop stop-color="#E9F2FF" stop-opacity="0"/>
    <stop offset="1" stop-color="#E9F2FF"/>
    </linearGradient>
    <linearGradient id="paint2_linear" x1="596" y1="138" x2="596" y2="291" gradientUnits="userSpaceOnUse">
    <stop stop-color="#E9F2FF" stop-opacity="0"/>
    <stop offset="1" stop-color="#E9F2FF"/>
    </linearGradient>
    <linearGradient id="paint3_linear" x1="598" y1="307" x2="598" y2="460" gradientUnits="userSpaceOnUse">
    <stop stop-color="#E9F2FF" stop-opacity="0"/>
    <stop offset="1" stop-color="#E9F2FF"/>
    </linearGradient>
    <linearGradient id="paint4_linear" x1="972" y1="138" x2="972" y2="291" gradientUnits="userSpaceOnUse">
    <stop stop-color="#E9F2FF" stop-opacity="0"/>
    <stop offset="1" stop-color="#E9F2FF"/>
    </linearGradient>
    <linearGradient id="paint5_linear" x1="974" y1="307" x2="974" y2="460" gradientUnits="userSpaceOnUse">
    <stop stop-color="#E9F2FF" stop-opacity="0"/>
    <stop offset="1" stop-color="#E9F2FF"/>
    </linearGradient>
    </defs>
    </svg>


    
            
        </div>

    </body>



<!-- BEGINNING OF THE DATA LOADER SNIPPET -->
<script type="text/javascript">

// Uncomment to test on localhost after the publish on DEV before the approval in QA and/or PROD
//environment_widget = "https://api-dev.askdata.com";
//environment_widget = "https://api.askdata.com"  // prod  da togliere quando porto su...

console.log("I'm going to request data");

$.ajax({

url: environment_widget +"/smartinsight/widgets/" + getUrlParameter('widgetId'),
type: "GET",
async: false,
beforeSend: function(xhr){xhr.setRequestHeader('Authorization', 'Bearer ' + getToken() 
 ).setRequestHeader('Content-Type','application/json')},
success: function(data) { 

    console.log("Requesting data if the WS answers 200");
    /// PUT YOUR CODE THAT RENDER THE WIDGET RESULTS

    //Log data repsonse
    console.log(data);

    // Select the HTML to render as temple
    var template = document.getElementById('container').innerHTML;
    
    // Rendering of the template
    var rendered = Mustache.render(template, data);
    
    // replace of the SVG
    document.getElementById('container').innerHTML = rendered;
       
    }

  });
</script>
<!-- END OF THE DATA LOADER SNIPPET -->

</html>
    
